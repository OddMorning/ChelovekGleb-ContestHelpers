(function(t){function e(e){for(var r,i,o=e[0],c=e[1],u=e[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},s=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/ChelovekGleb-ContestHelpers/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;s.push([1,"chunk-vendors"]),n()})({0:function(t,e){},"057f":function(t,e,n){t.exports={container:"content_container_2XZVx",component:"content_component_1QkIJ"}},1:function(t,e,n){t.exports=n("56d7")},"1f8b":function(t,e,n){t.exports=n.p+"assets/media/notification.0e4a8318.ogg"},2:function(t,e){},2378:function(t,e,n){t.exports={container:"animatedBackgroundOption_container_j2KQV",checkbox:"animatedBackgroundOption_checkbox_21o25"}},2779:function(t,e,n){"use strict";var r=n("2378"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},"2b41":function(t,e,n){t.exports={container:"index_container_JqJLS",resultContainer:"index_resultContainer_1wpxd",blackListContainer:"index_blackListContainer_QNby9",controlContainer:"index_controlContainer_10aQP",buttons:"index_buttons_jqLSR",filters:"index_filters_O5lwz",textarea:"index_textarea_2GJUi"}},"31cd":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},[n("div",{class:t.$style.stateContainer},[n("div",{domProps:{textContent:t._s("Логин:")}}),t.login&&"ok"===t.authState?n("div",{class:t.$style.login,domProps:{textContent:t._s(t.login)}}):n("div",{class:[t.$style.stateIcon,t.$style[t.authState]]}),t.errorMsg?[n("div",{domProps:{textContent:t._s("Ошибка:")}}),n("div",{domProps:{textContent:t._s(t.errorMsg)}})]:t._e()],2),n("div",{class:t.$style.buttonsContainer},[t.$store.state.isAuthenticated?n("gButton",{attrs:{caption:"Отозвать токен"},on:{click:t.revokeToken}}):n("gButton",{attrs:{caption:"Авторизоваться"},on:{click:t.doAuth}})],1)])},a=[],s=(n("7f7f"),n("96cf"),n("3b8d")),i=n("a79e"),o={components:{gButton:function(){return Promise.resolve().then(n.bind(null,"32d9"))}},data:function(){return{authState:"noAuth",login:"",errorMsg:"",twitch:null}},mounted:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getTwitchController");case 2:if(e=t.sent,this.twitch=e,e.user.token){t.next=7;break}return this.authState="noAuth",t.abrupt("return");case 7:return this.authState="waiting",t.next=10,e.checkToken();case 10:e.user.ok?(this.authState="ok",this.login=e.user.name,this.$store.state.isAuthenticated=!0):(this.authState="error",this.errorMsg=e.user.errorMsg,this.$store.state.isAuthenticated=!1,delete i["a"].token);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{doAuth:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.twitch.auth({scope:["channel:read:redemptions","channel:read:subscriptions","channel:manage:redemptions","chat:read","chat:edit"]});case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),revokeToken:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.twitch.revokeToken(),this.authState="noAuth",this.login="",this.$store.state.isAuthenticated=!1,delete i["a"].token;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},c=o,u=n("b3f4"),l=n("2877");function d(t){this["$style"]=u["default"].locals||u["default"]}var f=Object(l["a"])(c,r,a,!1,d,null,null);e["default"]=f.exports},"32d9":function(t,e,n){"use strict";n.r(e);var r=function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("button",e._g(e._b({class:[e.$style.container,(t={},t[e.$style.nowrap]=e.nowrap,t[e.$style.active]=e.active,t[e.$style.compact]=e.compact,t)]},"button",e.$attrs,!1),e.$listeners),[e._v(" "+e._s(e.caption)+" ")])},a=[],s={props:{caption:{type:String,default:null},nowrap:{type:Boolean,default:null},active:{type:Boolean,default:null},compact:{type:Boolean,default:null}}},i=s,o=n("3c21"),c=n("2877");function u(t){this["$style"]=o["default"].locals||o["default"]}var l=Object(c["a"])(i,r,a,!1,u,null,null);e["default"]=l.exports},3307:function(t,e,n){t.exports={container:"gButton_container_38-OD",active:"gButton_active_3VvNt",nowrap:"gButton_nowrap_3oxt5",compact:"gButton_compact_19iN5"}},3612:function(t,e,n){t.exports={container:"index_container_1ctnu",stateContainer:"index_stateContainer_Kdhrh",login:"index_login_2dweu",buttonsContainer:"index_buttonsContainer_1mwlu",stateIcon:"index_stateIcon_AkqWm",noAuth:"index_noAuth_3y-tk",waiting:"index_waiting_26PqX",error:"index_error_3o6D0"}},"3c21":function(t,e,n){"use strict";var r=n("3307"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},"3e54":function(t,e,n){var r={"./auth/index.vue":"31cd","./chat/index.vue":"d8de","./randomizer/index.vue":"4ab5","./rewards/index.vue":"8605","./subs/index.vue":"5085"};function a(t){return Promise.resolve().then((function(){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}var a=r[t];return n(a)}))}a.keys=function(){return Object.keys(r)},a.id="3e54",t.exports=a},"4ab5":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},[n("iframe",{class:t.$style.iframe,attrs:{src:t.url}})])},a=[],s={data:function(){return{url:"https://randomus.ru/list"}}},i=s,o=n("b6b3"),c=n("2877");function u(t){this["$style"]=o["default"].locals||o["default"]}var l=Object(c["a"])(i,r,a,!1,u,null,null);e["default"]=l.exports},5085:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},[n("gContainer",{class:t.$style.resultContainer,attrs:{caption:t.subsCount?"Результат ("+t.subsCount+" шт.)":"Результат"}},[n("gTextarea",{ref:"result",class:t.$style.textarea,attrs:{placeholder:"[ пусто ]",transparent:"",disabled:""},model:{value:t.input.result,callback:function(e){t.$set(t.input,"result",e)},expression:"input.result"}})],1),n("gContainer",{class:t.$style.blackListContainer,attrs:{caption:"Чёрный список"}},[n("gTextarea",{class:t.$style.textarea,attrs:{placeholder:"Список имён, которые будут исключены из результата",transparent:""},on:{input:t.onBlacklistEdit},model:{value:t.input.blacklist,callback:function(e){t.$set(t.input,"blacklist",e)},expression:"input.blacklist"}})],1),n("div",{class:t.$style.controlContainer},[n("div",{class:t.$style.buttons},[n("gButton",{class:t.$style.refreshSubsBtn,attrs:{caption:"Обновить"},on:{click:t.getSubs}}),n("CopyButton",{class:t.$style.copyBtn,attrs:{target:function(){return t.$refs.result}}})],1),n("div",{class:t.$style.filters},[n("gToggler",{attrs:{caption:"Tier 1"},on:{click:t.processResult},model:{value:t.conf.tier1,callback:function(e){t.$set(t.conf,"tier1",e)},expression:"conf.tier1"}}),n("gToggler",{attrs:{caption:"Tier 2"},on:{click:t.processResult},model:{value:t.conf.tier2,callback:function(e){t.$set(t.conf,"tier2",e)},expression:"conf.tier2"}}),n("gToggler",{attrs:{caption:"Tier 3"},on:{click:t.processResult},model:{value:t.conf.tier3,callback:function(e){t.$set(t.conf,"tier3",e)},expression:"conf.tier3"}})],1)])],1)},a=[],s=(n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),i=(n("7f7f"),n("6762"),n("2fdb"),n("d25f"),n("6d67"),n("55dd"),n("28a5"),n("96cf"),n("3b8d")),o=n("a79e"),c=(n("a481"),function(t,e){var n=String.fromCharCode(1110),r=t.toLowerCase().replace(/ё/g,"е".concat(n)),a=e.toLowerCase().replace(/ё/g,"е".concat(n));return r>a?1:r<a?-1:0}),u={components:{CopyButton:function(){return Promise.resolve().then(n.bind(null,"f09b"))},gButton:function(){return Promise.resolve().then(n.bind(null,"32d9"))},gContainer:function(){return Promise.resolve().then(n.bind(null,"de27"))},gTextarea:function(){return Promise.resolve().then(n.bind(null,"b8aa"))},gToggler:function(){return Promise.resolve().then(n.bind(null,"5250"))}},data:function(){return{input:{blacklist:"",result:""},conf:{tier1:!0,tier2:!0,tier3:!0},subsRaw:null,subsCount:null,twitch:null}},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getTwitchController");case 2:return e=t.sent,this.twitch=e,this.input.blacklist=o["a"].subs_blacklist||"",t.next=7,this.getSubs();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getSubs:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.input.result="( Получаю список подписчиков... )",this.subsCount=null,t.next=5,this.twitch.api("subscriptions",{query:{first:100,broadcaster_id:this.twitch.user.id}});case 5:if(e=t.sent,e.ok){t.next=10;break}return this.input.result="Что-то пошло не так при обращении к API:\n\n".concat(e.err),this.$set(this,"subsRaw",{}),t.abrupt("return");case 10:this.$set(this,"subsRaw",e.data),this.processResult(),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),this.input.result="Что-то пошло не так при обработке запроса:\n\n".concat(t.t0.message);case 17:case"end":return t.stop()}}),t,this,[[0,14]])})));function e(){return t.apply(this,arguments)}return e}(),onBlacklistEdit:function(t){o["a"].subs_blacklist=t,this.processResult()},processResult:function(){var t=this,e=this.input.blacklist?this.input.blacklist.split("\n"):[],n=this.subsRaw.filter((function(n){var r="1000"===n.tier,a="2000"===n.tier,s="3000"===n.tier,i=e.includes(n.user_name),o=n.user_name===t.twitch.user.name,c=!0;return r&&(c=c&&t.conf.tier1),a&&(c=c&&t.conf.tier2),s&&(c=c&&t.conf.tier3),i&&(c=!1),o&&(c=!1),c})).map((function(t){return t.user_name})).sort(c);n=Object(s["a"])(new Set(n)),this.input.result=n.join("\n"),this.subsCount=n.length}}},l=u,d=n("f913"),f=n("2877");function p(t){this["$style"]=d["default"].locals||d["default"]}var h=Object(f["a"])(l,r,a,!1,p,null,null);e["default"]=h.exports},5250:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("gButton",{attrs:{caption:t.buttonCaption,nowrap:"",compact:t.compact},on:{click:t.onClick}})},a=[],s={components:{gButton:function(){return Promise.resolve().then(n.bind(null,"32d9"))}},props:{caption:{type:String,default:null},value:{type:Boolean,requred:!0},compact:{type:Boolean,default:null}},data:function(){return{mark:"[×]",blank:"[ ]"}},computed:{buttonCaption:function(){return this.value?"".concat(this.mark," ").concat(this.caption):"".concat(this.blank," ").concat(this.caption)}},methods:{onClick:function(){var t;(this.$emit("input",!this.value),this.$listeners.click)&&(t=this.$listeners).click.apply(t,arguments)}}},i=s,o=n("2877"),c=Object(o["a"])(i,r,a,!1,null,null,null);e["default"]=c.exports},"56d7":function(t,e,n){"use strict";n.r(e);n("96cf");var r=n("3b8d"),a=(n("cadf"),n("551c"),n("f751"),n("097d"),n("2b0e")),s=function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("div",{class:(t={},t[e.$style.animatedBackground]=e.isBackgroundAnimated,t),attrs:{id:e.$style.app}},[r("Header"),r("Content"),e.showFooter?r("Footer"):e._e()],1)},i=[],o={components:{Header:function(){return Promise.resolve().then(n.bind(null,"f613"))},Content:function(){return Promise.resolve().then(n.bind(null,"d903"))},Footer:function(){return Promise.resolve().then(n.bind(null,"d4c6"))}},computed:{isBackgroundAnimated:function(){return this.$store.state.isBackgroundAnimated},showFooter:function(){return"auth"===this.$store.state.currentTab}},watch:{isBackgroundAnimated:{immediate:!0,handler:function(t){var e=this.$style.animatedBackground;t?document.body.classList.add(e):document.body.classList.remove(e)}}}},c=o,u=n("e24a"),l=n("2877");function d(t){this["$style"]=u["default"].locals||u["default"]}var f=Object(l["a"])(c,s,i,!1,d,null,null),p=f.exports,h=n("768b"),m=(n("ac4d"),n("8a81"),n("28a5"),n("ac6a"),n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("456d"),n("6b54"),n("87b3"),n("75fc")),v=n("bd86"),g=n("d225"),b=n("b0b4");function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(n,!0).forEach((function(e){Object(v["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t){return new Promise((function(e){return setTimeout(e,t)}))}var _=function(){function t(e){var n=e.clientId,r=e.token;Object(g["a"])(this,t),this.clientId=n,this.user={ok:!1,id:null,name:null,token:r,expiresIn:null,errorMsg:null}}return Object(b["a"])(t,[{key:"api",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,s,i,o,c,u,l,d=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=d.length>1&&void 0!==d[1]?d[1]:{},r=!1,a=null,s={ok:!1,data:[]},console.log("[API] [%s]\n===> %o",e,n);case 5:return i={},a&&(i.after=a),n.query&&(i=x({},i,{},n.query)),o=x({},n,{query:i}),n.body&&(o.body=n.body),console.log("[API] [%s]\n--\x3e %o",e,o),t.next=13,this._api(e,o);case 13:return c=t.sent,t.next=16,w(250);case 16:console.log("[API] [%s]\n<-- %o",e,c),c.ok?(l=!(c.res.pagination&&c.res.pagination.cursor),(u=s.data).push.apply(u,Object(m["a"])(c.res.data)),l?(r=!0,s.ok=!0):a=c.res.pagination.cursor):(r=!0,s=c);case 18:if(!r){t.next=5;break}case 19:return console.log("[API] [%s]\n<=== %o",e,s),t.abrupt("return",s);case 21:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"_api",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,s,i,o,c,u=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r={method:n.method||"GET",headers:{authorization:"Bearer ".concat(this.user.token),"client-id":this.clientId}},n.method||"GET",a="https://api.twitch.tv/helix/".concat(e,"/"),n.query&&(i=new URLSearchParams(n.query).toString(),a+="?".concat(i)),n.headers&&(r.headers=x({},r.headers,{},n.headers)),n.body&&(r.headers["Content-Type"]="application/json",r.body=JSON.stringify(n.body)),t.prev=7,t.next=10,fetch(a,r);case 10:return o=t.sent,t.next=13,o.json();case 13:if(c=t.sent,o.ok){t.next=16;break}throw new Error(JSON.stringify(c,null,2));case 16:s={ok:!0,res:c},t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](7),s={ok:!1,err:t.t0.message};case 22:return t.abrupt("return",s);case 23:case"end":return t.stop()}}),t,this,[[7,19]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"checkToken",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.user.token,t.prev=1,t.next=4,fetch("https://id.twitch.tv/oauth2/validate",{headers:{authorization:"Bearer ".concat(e)}});case 4:return r=t.sent,t.next=7,r.json();case 7:if(n=t.sent,r.ok){t.next=10;break}throw new Error(n.message);case 10:this.user={ok:!0,id:n.user_id,name:n.login,token:e,expiresIn:n.expires_in,errorMsg:null},t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](1),this.user={ok:!1,id:null,name:null,token:null,expiresIn:null,errorMsg:t.t0.message};case 16:return console.log("[API] [validate]\n %o",{raw:n,parsed:this.user}),t.abrupt("return",this.user.ok);case 18:case"end":return t.stop()}}),t,this,[[1,13]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"auth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scope,n=t.inNewWindow;if(!e)throw new Error('"scope" is missing!');var r=new URLSearchParams({client_id:this.clientId,response_type:"token",redirect_uri:location.origin+location.pathname,scope:e.join(" ")}).toString(),a="https://id.twitch.tv/oauth2/authorize?".concat(r);n?window.open(a,"_blank"):location.href=a}},{key:"revokeToken",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new URLSearchParams({client_id:this.clientId,token:this.user.token}).toString(),t.next=3,fetch("https://id.twitch.tv/oauth2/revoke?".concat(e),{method:"POST"});case 3:if(n=t.sent,console.log("resp",n),n.ok){t.next=8;break}return alert("Не удалось отозвать токен"),t.abrupt("return",!1);case 8:return this.user={ok:!1,id:null,name:null,token:null,expiresIn:null,errorMsg:null},t.abrupt("return",!0);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),k=n("a79e");function C(t){var e={},n=!0,r=!1,a=void 0;try{for(var s,i=t.slice(1).split("&")[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var o=s.value,c=o.split("="),u=Object(h["a"])(c,2),l=u[0],d=u[1];e[l]=decodeURIComponent(d)}}catch(f){r=!0,a=f}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return e}function $(){return T.apply(this,arguments)}function T(){return T=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:{},n="75rb88i37m9kha2q2toaha4g82zn8h",r=e.access_token||k["a"].token,a=new _({clientId:n,token:r}),e.access_token&&(k["a"].token=r),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)}))),T.apply(this,arguments)}var S=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=location.hash,n=e?C(e):{},t.next=4,$(n);case 4:return r=t.sent,location.hash&&window.history.replaceState(null,"",location.pathname),t.abrupt("return",{hash:n,twitchController:r});case 7:case"end":return t.stop()}}),t)}))),R=n("2f62"),O=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.initialData,a["a"].use(R["a"]),r=n.twitchController,s=new R["a"].Store({state:{isAuthenticated:!1,isBackgroundAnimated:!0,currentTab:"auth"},actions:{getTwitchController:function(t){return r},selectTab:function(t,e){t.state.currentTab=e}}}),t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();a["a"].config.productionTip=!1;var A=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:return e=t.sent,t.next=5,O({initialData:e});case 5:n=t.sent,new a["a"]({store:n,render:function(t){return t(p)}}).$mount("#app");case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();A().catch((function(t){return console.error("Failed to init app:",t)}))},"62fb":function(t,e,n){"use strict";var r=n("a0be"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},8605:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},[n("gContainer",{class:t.$style.resultContainer,attrs:{caption:t.rewardRedemptionsCount?"Результат ("+t.rewardRedemptionsCount+" шт.)":"Результат"}},[n("gTextarea",{ref:"result",class:t.$style.textarea,attrs:{placeholder:"[ пусто ]",transparent:"",disabled:""},model:{value:t.input.result,callback:function(e){t.$set(t.input,"result",e)},expression:"input.result"}})],1),n("div",{class:t.$style.controlContainer},[n("div",{class:t.$style.buttons},[n("gButton",{attrs:{caption:"Обновить"},on:{click:t.getAll}}),n("CopyButton",{class:t.$style.copyBtn,attrs:{target:function(){return t.$refs.result}}})],1),n("div",{class:t.$style.filters},[n("gToggler",{attrs:{caption:"Без повторений",title:"Исключить повторяющиеся имена"},on:{click:t.processResult},model:{value:t.filters.onlyUniqueNames,callback:function(e){t.$set(t.filters,"onlyUniqueNames",e)},expression:"filters.onlyUniqueNames"}}),t.hasRewards?t._l(t.rewards,(function(e,r){return n("gToggler",{key:r,attrs:{caption:e.title,title:e.prompt},on:{click:t.processResult},model:{value:e.enabled,callback:function(n){t.$set(e,"enabled",n)},expression:"reward.enabled"}})})):t._e(),n("gButton",{class:t.$style.addRewardBtn,attrs:{caption:"Создать награду",title:"Создать новую награду, к которой приложение будет иметь доступ",nowrap:""},on:{click:t.createReward}})],2)])],1)},a=[],s=(n("57e7"),n("6762"),n("2fdb"),n("d25f"),n("75fc")),i=(n("ac4d"),n("8a81"),n("ac6a"),n("6d67"),n("96cf"),n("3b8d")),o={components:{CopyButton:function(){return Promise.resolve().then(n.bind(null,"f09b"))},gButton:function(){return Promise.resolve().then(n.bind(null,"32d9"))},gContainer:function(){return Promise.resolve().then(n.bind(null,"de27"))},gTextarea:function(){return Promise.resolve().then(n.bind(null,"b8aa"))},gToggler:function(){return Promise.resolve().then(n.bind(null,"5250"))}},data:function(){return{input:{result:""},filters:{onlyUniqueNames:!1},rewards:[],rewardRedemptions:[],rewardRedemptionsCount:null,twitch:null}},computed:{hasRewards:function(){return!!this.rewards.length}},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getTwitchController");case 2:return e=t.sent,this.twitch=e,t.next=6,this.getAll();case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getAll:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.rewardRedemptionsCount=null,t.next=3,this.getRewards();case 3:return t.next=5,this.getRewardRedemptions();case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createReward:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=prompt("Из-за ограничений Twitch API приложение может иметь доступ только к собственным наградам.\n\nСозданные награды можно активировать, редактировать или удалить в панели управления канала.\n\nВведите название новой награды:"),e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.twitch.api("channel_points/custom_rewards",{method:"POST",query:{broadcaster_id:this.twitch.user.id},body:{title:e,prompt:"(создано через приложение инструментов для конкурса)",cost:100,is_enabled:!1}});case 5:if(n=t.sent,n.ok){t.next=9;break}return this.input.result="Что-то пошло не так при обращении к API:\n\n".concat(n.err),t.abrupt("return");case 9:return t.next=11,this.getRewards();case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getRewards:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="( Награда неактивна. Включть её можно в настройках Twitch )",t.prev=1,n=this.input.result,this.input.result="( Получаю список наград... )",this.$set(this,"rewards",[]),t.next=7,this.twitch.api("channel_points/custom_rewards",{query:{broadcaster_id:this.twitch.user.id,only_manageable_rewards:!0}});case 7:if(r=t.sent,r.ok){t.next=11;break}return this.input.result="Что-то пошло не так при обращении к API:\n\n".concat(r.err),t.abrupt("return");case 11:a=r.data.map((function(t){return{id:t.id,title:t.is_enabled?t.title:"".concat(t.title," (неактивна)"),prompt:t.is_enabled?t.prompt:"".concat(e,"\n\n").concat(t.prompt),enabled:t.is_enabled}})),this.$set(this,"rewards",a),n&&(this.input.result=n),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](1),this.input.result="Что-то пошло не так при обработке запроса:\n\n".concat(t.t0.message);case 19:case"end":return t.stop()}}),t,this,[[1,16]])})));function e(){return t.apply(this,arguments)}return e}(),getRewardRedemptions:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,i,o,c,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,this.input.result="( Получаю список запросов на награды... )",this.rewardRedemptionsCount=null,this.$set(this,"rewardRedemptions",[]),e=!0,n=!1,r=void 0,t.prev=7,a=this.rewards[Symbol.iterator]();case 9:if(e=(i=a.next()).done){t.next=22;break}return c=i.value,t.next=13,this.twitch.api("channel_points/custom_rewards/redemptions",{query:{first:50,broadcaster_id:this.twitch.user.id,reward_id:c.id,status:"UNFULFILLED",sort:"NEWEST"}});case 13:if(u=t.sent,u.ok){t.next=17;break}return this.input.result="Что-то пошло не так при обращении к API:\n\n".concat(u.err),t.abrupt("return");case 17:l=u.data.map((function(t){return{id:t.id,rewardId:t.reward.id,userName:t.user_name,userInput:t.user_input,status:t.status,date:new Date(t.redeemed_at)}})),(o=this.rewardRedemptions).push.apply(o,Object(s["a"])(l));case 19:e=!0,t.next=9;break;case 22:t.next=28;break;case 24:t.prev=24,t.t0=t["catch"](7),n=!0,r=t.t0;case 28:t.prev=28,t.prev=29,e||null==a.return||a.return();case 31:if(t.prev=31,!n){t.next=34;break}throw r;case 34:return t.finish(31);case 35:return t.finish(28);case 36:this.processResult(),t.next=42;break;case 39:t.prev=39,t.t1=t["catch"](0),this.input.result="Что-то пошло не так при обработке запроса:\n\n".concat(t.t1.message);case 42:case"end":return t.stop()}}),t,this,[[0,39],[7,24,28,36],[29,,31,35]])})));function e(){return t.apply(this,arguments)}return e}(),processResult:function(){var t=this.rewards.filter((function(t){return t.enabled})).map((function(t){return t.id})),e=this.rewardRedemptions;e=e.filter((function(e,n,r){var a=t.includes(e.rewardId),s=a;return s})).map((function(t){return t.userName})),this.filters.onlyUniqueNames&&(e=e.filter((function(t,e,n){return n.indexOf(t)===e}))),this.input.result=e.join("\n"),this.rewardRedemptionsCount=e.length}}},c=o,u=n("e098"),l=n("2877");function d(t){this["$style"]=u["default"].locals||u["default"]}var f=Object(l["a"])(c,r,a,!1,d,null,null);e["default"]=f.exports},"87e0":function(t,e,n){"use strict";var r=n("057f"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},8987:function(t,e,n){t.exports={animatedBackground:"App_animatedBackground_Bi1nn",background:"App_background_1pY6v",app:"App_app_3cl75"}},"8ed5":function(t,e,n){"use strict";var r=n("dd69"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},9505:function(t,e,n){t.exports={container:"index_container_2SQMD",iframe:"index_iframe_3Zge-"}},"955a":function(t,e,n){t.exports={container:"index_container_3r6t6",resultContainer:"index_resultContainer_30vPi",blackListContainer:"index_blackListContainer_3eMwc",controlContainer:"index_controlContainer_33d79",buttons:"index_buttons_2H3K_",filters:"index_filters_22i3g",textarea:"index_textarea_19J-h"}},"99dd":function(t,e,n){t.exports=n.p+"assets/img/favicon.30c7fef6.png"},a0be:function(t,e,n){t.exports={container:"gContainer_container_3h8Ox",caption:"gContainer_caption_dsJxw",hasCloseButton:"gContainer_hasCloseButton_38Da5",closeBtn:"gContainer_closeBtn_3PT8n",content:"gContainer_content_1lTim"}},a11e:function(t,e,n){var r={"./auth/index.vue":"31cd","./chat/index.vue":"d8de","./randomizer/index.vue":"4ab5","./rewards/index.vue":"8605","./subs/index.vue":"5085"};function a(t){var e=s(t);return n(e)}function s(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=s,t.exports=a,a.id="a11e"},a398:function(t,e,n){"use strict";var r=n("b332"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},a5ae:function(t,e,n){"use strict";var r=n("dc8c"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},a79e:function(t,e,n){"use strict";var r=new Proxy({},{get:function(t,e){var n=JSON.parse(localStorage.getItem(e));return n},set:function(t,e,n){return localStorage.setItem(e,JSON.stringify(n)),!0},deleteProperty:function(t,e){return localStorage.removeItem(e),!0}});e["a"]=r},a9b0:function(t,e,n){t.exports={container:"gTextarea_container_1dWIn",transparent:"gTextarea_transparent_DR2jy"}},b332:function(t,e,n){t.exports={container:"footer_container_8FSkW",aboutLink:"footer_aboutLink_2IyZ9"}},b3f4:function(t,e,n){"use strict";var r=n("3612"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},b6b3:function(t,e,n){"use strict";var r=n("9505"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},b8aa:function(t,e,n){"use strict";n.r(e);var r=function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],class:[e.$style.container,(t={},t[e.$style.transparent]=e.transparent,t)],attrs:{spellcheck:"false"},domProps:{value:e.value},on:{input:[function(t){t.target.composing||(e.value=t.target.value)},function(t){return e.$emit("input",e.value)}]}})},a=[],s={props:{value:{type:String,default:null},transparent:{type:Boolean,default:!1}}},i=s,o=n("d021"),c=n("2877");function u(t){this["$style"]=o["default"].locals||o["default"]}var l=Object(c["a"])(i,r,a,!1,u,null,null);e["default"]=l.exports},d021:function(t,e,n){"use strict";var r=n("a9b0"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},d4c6:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},[n("AnimatedBackgroundOption",{model:{value:t.isBackgroundAnimated,callback:function(e){t.isBackgroundAnimated=e},expression:"isBackgroundAnimated"}}),n("div"),n("div",[t._v(" "+t._s(t.version)+" :: "+t._s(t.lastUpdate)+" :: Специально для "),n("a",{class:t.$style.aboutLink,attrs:{target:"_blank",href:"https://www.twitch.tv/chelovekgleb"},domProps:{textContent:t._s("@chelovekgleb")}})])],1)},a=[],s={components:{AnimatedBackgroundOption:function(){return Promise.resolve().then(n.bind(null,"f663"))}},data:function(){return{version:"v2.1.5",lastUpdate:"22.05.2021"}},computed:{isBackgroundAnimated:{get:function(){return this.$store.state.isBackgroundAnimated},set:function(t){this.$store.state.isBackgroundAnimated=t}}}},i=s,o=n("a398"),c=n("2877");function u(t){this["$style"]=o["default"].locals||o["default"]}var l=Object(c["a"])(i,r,a,!1,u,null,null);e["default"]=l.exports},d8de:function(t,e,n){"use strict";n.r(e);var r=function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("div",{class:e.$style.container},[r("div",{class:[e.$style.mainContainer,(t={},t[e.$style.hasResult]=e.hasResult,t)]},[r("gContainer",{ref:"messagesContainer",attrs:{"inner-class":e.$style.messagesContainer,caption:"Чат"}},e._l(e.messages,(function(t,n){var a;return r("div",{key:n,class:[e.$style.message,(a={},a[e.$style.systemMessage]=t.isSystemMessage,a[e.$style.highlight]=t.isHighlighed,a)]},[t.isSystemMessage?[r("span",{class:e.$style.text,style:{"--color":t.color},domProps:{textContent:e._s(t.text)}})]:[r("span",{class:e.$style.user,style:{"--color":t.user.color},domProps:{textContent:e._s(t.user.name)}}),r("span",{class:e.$style.text,style:{"--color":t.color},domProps:{innerHTML:e._s(t.text)}})]],2)})),0),e.hasResult?r("gContainer",{attrs:{"inner-class":e.$style.messagesContainer,caption:"Найденные сообщения","can-be-closed":""},on:{onClose:e.onResultClose}},e._l(e.resultMessages,(function(t,n){return r("div",{key:n,class:e.$style.message},[r("span",{class:e.$style.time,domProps:{textContent:e._s(t.timestamp.timeWithSeconds)}}),r("span",{class:e.$style.user,style:{"--color":t.user.color},domProps:{textContent:e._s(t.user.name)}}),r("span",{class:e.$style.text,style:{"--color":t.color},domProps:{innerHTML:e._s(t.text)}})])})),0):e._e()],1),r("div",{class:e.$style.sidebarContainer},[r("gContainer",{attrs:{"inner-class":e.$style.searchContainer,caption:"Искать по шаблону"}},[r("gTextarea",{class:e.$style.input,attrs:{rows:"1",placeholder:"Что искать",title:"Если в качестве поиска указана строка «АБВ», то с настройками по умолчанию может быть найдено как сообщение «АБВ», так и «а б в г д»"},model:{value:e.input.confSearchQuery,callback:function(t){e.$set(e.input,"confSearchQuery",t)},expression:"input.confSearchQuery"}}),r("div",{class:e.$style.buttonsWrapper},[r("gToggler",{attrs:{caption:"Учитывать регистр",title:"Если отмечено, сообщения «АБВ» и «абв» будут считаться разными сообщениями",compact:""},on:{click:function(t){return e.saveValueToLs("chat_search.considerCase",e.conf.search.considerCase)}},model:{value:e.conf.search.considerCase,callback:function(t){e.$set(e.conf.search,"considerCase",t)},expression:"conf.search.considerCase"}}),r("gToggler",{attrs:{caption:"Учитывать пробелы",title:"Если отмечено, сообщения «АБВ» и «А Б В» будут считаться разными сообщениями",compact:""},on:{click:function(t){return e.saveValueToLs("chat_search.considerSpaces",e.conf.search.considerSpaces)}},model:{value:e.conf.search.considerSpaces,callback:function(t){e.$set(e.conf.search,"considerSpaces",t)},expression:"conf.search.considerSpaces"}}),r("gToggler",{attrs:{caption:"Сообщение целиком",title:"Если отмечено, сообщения «АБВ» и «АБВГД» будут считаться разными сообщениями",compact:""},on:{click:function(t){return e.saveValueToLs("chat_search.onlyEntireMessage",e.conf.search.onlyEntireMessage)}},model:{value:e.conf.search.onlyEntireMessage,callback:function(t){e.$set(e.conf.search,"onlyEntireMessage",t)},expression:"conf.search.onlyEntireMessage"}})],1)],1),r("gContainer",{attrs:{"inner-class":e.$style.confFoundContainer,caption:"Когда сообщение найдено"}},[r("gTextarea",{class:e.$style.input,attrs:{rows:"1",placeholder:e.defaultValues.successNotificationTemplate,title:"Текст, который будет отображён, когда сообщение найдено.\n\nСимвол «@» будет заменён на ник.\nСимвол «*» будет заменён на текст сообщения.\nСимвол «&» будет заменён на введённый текст."},on:{input:function(t){return e.saveValueToLs("chat_found.successNotificationTemplate",e.input.successNotificationTemplate)}},model:{value:e.input.successNotificationTemplate,callback:function(t){e.$set(e.input,"successNotificationTemplate",t)},expression:"input.successNotificationTemplate"}}),r("div",{class:e.$style.buttonsWrapper},[r("gToggler",{attrs:{caption:"     Звук      ",title:"Будет проигран звуковой сигнал",compact:""},on:{click:function(t){return e.saveValueToLs("chat_found.playSound",e.conf.found.playSound)}},model:{value:e.conf.found.playSound,callback:function(t){e.$set(e.conf.found,"playSound",t)},expression:"conf.found.playSound"}}),r("gToggler",{attrs:{caption:"  Уведомление  ",title:"Будет показано уведомление браузера",compact:""},on:{click:e.verifyNotificationPermission},model:{value:e.conf.found.showNotification,callback:function(t){e.$set(e.conf.found,"showNotification",t)},expression:"conf.found.showNotification"}}),r("gToggler",{attrs:{caption:"Сообщение в чат",title:"Будет отправлено сообщение в чат на twitch",compact:""},on:{click:function(t){return e.saveValueToLs("chat_found.sendToChat",e.conf.found.sendToChat)}},model:{value:e.conf.found.sendToChat,callback:function(t){e.$set(e.conf.found,"sendToChat",t)},expression:"conf.found.sendToChat"}}),r("gButton",{attrs:{caption:e.timeoutButtonCaption,title:"При включенном таймауте уведомления будут показываться",compact:""},on:{click:e.setNextTimeoutValue}}),r("br"),r("gButton",{attrs:{caption:"Проверить",compact:""},on:{click:e.createFakeSuccessfulMessage}})],1)],1)],1)])},a=[],s=(n("28a5"),n("768b")),i=(n("ffc1"),n("3b2b"),n("ac4d"),n("8a81"),n("6762"),n("2fdb"),n("a481"),n("6b54"),n("87b3"),n("f576"),n("7f7f"),n("ac6a"),n("20d6"),n("386d"),n("96cf"),n("3b8d")),o=(n("c5f6"),n("7cdf"),n("a79e")),c=n("3cba"),u=n.n(c),l={components:{gButton:function(){return Promise.resolve().then(n.bind(null,"32d9"))},gContainer:function(){return Promise.resolve().then(n.bind(null,"de27"))},gTextarea:function(){return Promise.resolve().then(n.bind(null,"b8aa"))},gToggler:function(){return Promise.resolve().then(n.bind(null,"5250"))}},data:function(){return{messages:[],resultMessages:[],input:{confSearchQuery:"",successNotificationTemplate:"",timeout:0},conf:{search:{considerCase:null,considerSpaces:null,onlyEntireMessage:null},found:{playSound:null,showNotification:null,sendToChat:null}},twitch:null,chatClient:null,maxMessagesCount:150,bttvCache:null,timeout:{values:[0,5,30],isActive:null,timer:null},defaultValues:{usernameColors:["#ff0000","#0000ff","#008000","#b22222","#ff7f50","#9acd32","#ff4500","#2e8b57","#daa520","#d2691e","#5f9ea0","#1e90ff","#ff69b4","#8a2be2","#00ff7f"],successNotificationTemplate:"/me @ дал правильный ответ (*)!",notificationSound:n("1f8b"),notificationIcon:n("99dd")}}},computed:{hasResult:function(){return this.resultMessages&&this.resultMessages.length},timeoutButtonCaption:function(){var t=this.input.timeout,e=0===t,n=Number.isInteger(t),r="Таймаут (*)",a="???";return e?a="выкл":n&&(a="".concat(t," сек")),r.replace("*",a)}},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getTwitchController");case 2:return e=t.sent,this.twitch=e,this.initConf(),t.next=7,this.initChat();case 7:return t.next=9,this.verifyNotificationPermission();case 9:new Audio("data:audio/wav;base64,UklGRjIAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAAABmYWN0BAAAAAAAAABkYXRhAAAAAA==").play();case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{onResultClose:function(){this.$set(this,"resultMessages",[])},saveValueToLs:function(t,e){o["a"][t]=e},verifyNotificationPermission:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.conf.found.showNotification,!e){t.next=6;break}return t.next=4,Notification.requestPermission();case 4:n=t.sent,"granted"!==n&&(e=!1,this.conf.found.showNotification=!1,alert("Не могу показывать уведомления, так как они были запрещены браузером"));case 6:this.saveValueToLs("chat_found.showNotification",e);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initConf:function(){var t=function(t,e){return null===o["a"][t]?e:o["a"][t]},e=this.conf,n=e.search,r=e.found;n.considerCase=t("chat_search.considerCase",!1),n.considerSpaces=t("chat_search.considerSpaces",!1),n.onlyEntireMessage=t("chat_search.onlyEntireMessage",!1),r.playSound=t("chat_found.playSound",!0),r.showNotification=t("chat_found.showNotification",!0),r.sendToChat=t("chat_found.sendToChat",!1),this.input.successNotificationTemplate=o["a"]["chat_found.successNotificationTemplate"],this.input.timeout=t("chat_found.timeout",0)},setNextTimeoutValue:function(){var t=this.input.timeout,e=this.timeout.values.findIndex((function(e){return e===t})),n=e+1===this.timeout.values.length,r=n?0:e+1,a=this.timeout.values[r];this.input.timeout=a,this.saveValueToLs("chat_found.timeout",a),clearTimeout(this.timeout.timer),this.timeout.isActive=!1,this.timeout.timer=null},initChat:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e="https://api.betterttv.net/3/cached/users/twitch/".concat(this.twitch.user.id),t.next=4,fetch(e);case 4:if(n=t.sent,200===n.status){t.next=10;break}return t.next=8,n.text();case 8:throw r=t.sent,new Error(r);case 10:return t.next=12,n.json();case 12:this.bttvCache=t.sent,t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](0),console.log("Can not fetch BTTV API:",t.t0),this.bttvCache=null;case 19:a=new u.a.Client({channels:[this.twitch.user.name],identity:{username:this.twitch.user.name,password:"oauth:".concat(this.twitch.user.token)}}),this.onSystemMessage("info","Установка подключения..."),a.connect().catch((function(t){s.onSystemMessage("error",t.message||t)})),a.on("connected",(function(t,e){s.onSystemMessage("info","Подключеие установлено")})),a.on("message",this.onMessage),this.chatClient=a;case 25:case"end":return t.stop()}}),t,this,[[0,15]])})));function e(){return t.apply(this,arguments)}return e}(),onSystemMessage:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={isSystemMessage:!0,color:"error"===e?"#F00":null,text:n},t.next=3,this.addMessage(r);case 3:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),onMessage:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,n,r,a){var s,i,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=n["display-name"],i=new Date(+n["tmi-sent-ts"]),o="".concat(i.getHours().toString().padStart(2,"0"),":").concat(i.getMinutes().toString().padStart(2,"0")),c="".concat(o,":").concat(i.getSeconds().toString().padStart(2,"0")),t.t0={name:s,color:n.color||this.generateColorForString(s)},t.t1=r,t.next=8,this.processEmotes(r,n.emotes);case 8:return t.t2=t.sent,t.t3={raw:i,time:o,timeWithSeconds:c},u={user:t.t0,textRaw:t.t1,text:t.t2,timestamp:t.t3,isHighlighed:!1},t.next=13,this.addMessage(u);case 13:return t.next=15,this.checkMessage(u,{channel:e,self:a});case 15:case"end":return t.stop()}}),t,this)})));function e(e,n,r,a){return t.apply(this,arguments)}return e}(),createFakeSuccessfulMessage:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=!this.input.confSearchQuery,e&&(this.input.confSearchQuery="Т Е С Т"),n="#".concat(this.twitch.user.name.toLowerCase()),r={"display-name":"System",color:"#F00","tmi-sent-ts":(new Date).valueOf()},a=this.input.confSearchQuery,s=!1,t.next=8,this.onMessage(n,r,a,s);case 8:e&&(this.input.confSearchQuery="");case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),checkMessage:function(t,e){var n=this,r=e.channel,a=e.self;if(!a){var s=this.input.confSearchQuery;if(s){var i=this.conf,o=i.search,c=i.found,u=t.text,l=!1;if(o.considerCase||(s=s.toLowerCase(),u=u.toLowerCase()),o.considerSpaces||(s=s.replace(/\s/g,""),u=u.replace(/\s/g,"")),l=o.onlyEntireMessage?u===s:u.includes(s),l&&!this.timeout.isActive){t.isHighlighed=!0,this.resultMessages.push(t);var d=this.resultMessages.length>3;d&&this.resultMessages.splice(0,1);var f=(this.input.successNotificationTemplate||this.defaultValues.successNotificationTemplate).replace("@","@".concat(t.user.name)).replace("*",t.textRaw).replace("&",this.input.confSearchQuery);if(c.playSound)try{var p=new Audio(this.defaultValues.notificationSound);p.play()}catch(v){alert("Не могу проиграть звук: ".concat(v.message))}if(c.showNotification)try{var h=new Notification("Сообщение от @".concat(t.user.name),{body:f,icon:this.defaultValues.notificationIcon,silent:!0});h.addEventListener("click",(function(t){t.target.close()}))}catch(v){alert("Не могу создать уведомление: ".concat(v.message))}if(c.sendToChat)try{this.chatClient.say(r,f)}catch(v){alert("Не могу отправить сообщение в чат: ".concat(v.message))}if(this.input.timeout){var m=1e3*this.input.timeout;this.timeout.isActive=!0,this.timeout.timer=setTimeout((function(){n.timeout.isActive=!1,n.timeout.timer=null}),m)}}}}},generateColorForString:function(t){var e=this.defaultValues.usernameColors,n=0,r=!0,a=!1,s=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var c=i.value;n+=c.charCodeAt(0)}}catch(l){a=!0,s=l}finally{try{r||null==o.return||o.return()}finally{if(a)throw s}}var u=n%e.length;return e[u]},processEmotes:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,n){var r,a,i,o,c,u,l,d,f,p,h,m,v,g,b,y,x,w,_,k,C,$,T,S,R,O=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e,a=function(t,e){var n=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");r=r.replace(new RegExp(n,"g"),"<img class='".concat(O.$style.emote,"' src='").concat(e,"'>"))},n)for(i="https://static-cdn.jtvnw.net/emoticons/v2/$$/default/dark/1.0",o=0,c=Object.entries(n);o<c.length;o++)u=Object(s["a"])(c[o],2),l=u[0],d=u[1],f=d[0].split("-"),p=Object(s["a"])(f,2),h=p[0],m=p[1],v=e.slice(+h,+m+1),g=i.replace("$$",l),a(v,g);if(!this.bttvCache){t.next=25;break}for(b="https://cdn.betterttv.net/emote/$$/1x",y=this.bttvCache.sharedEmotes,x=!0,w=!1,_=void 0,t.prev=9,k=y[Symbol.iterator]();!(x=(C=k.next()).done);x=!0)$=C.value,T=$.id,S=$.code,R=b.replace("$$",T),a(S,R);t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](9),w=!0,_=t.t0;case 17:t.prev=17,t.prev=18,x||null==k.return||k.return();case 20:if(t.prev=20,!w){t.next=23;break}throw _;case 23:return t.finish(20);case 24:return t.finish(17);case 25:return t.abrupt("return",r);case 26:case"end":return t.stop()}}),t,this,[[9,13,17,25],[18,,20,24]])})));function e(e,n){return t.apply(this,arguments)}return e}(),addMessage:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,s,i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=this.$refs.messagesContainer.$refs.content,r=60,a=n.scrollHeight-n.clientHeight+1,s=n.scrollTop,i=s>=a-r,this.messages.push(e),t.next=8,this.$nextTick();case 8:i&&(o=n.scrollHeight-n.clientHeight+1,n.scrollTop=o,c=this.messages.length>this.maxMessagesCount,c&&(this.messages=this.messages.slice(-1*this.maxMessagesCount)));case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},d=l,f=n("8ed5"),p=n("2877");function h(t){this["$style"]=f["default"].locals||f["default"]}var m=Object(p["a"])(d,r,a,!1,h,null,null);e["default"]=m.exports},d903:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},[n("KeepAlive",[n(t.currentTab,{tag:"Component",class:t.$style.component})],1)],1)},a=[],s=(n("a481"),n("ac4d"),n("8a81"),n("ac6a"),n("a11e")),i={},o=!0,c=!1,u=void 0;try{for(var l,d=function(){var t=l.value,e=t.replace("./","").replace("/index.vue","");i[e]=function(){return n("3e54")("./".concat(e,"/index.vue"))}},f=s.keys()[Symbol.iterator]();!(o=(l=f.next()).done);o=!0)d()}catch(y){c=!0,u=y}finally{try{o||null==f.return||f.return()}finally{if(c)throw u}}var p={components:i,computed:{currentTab:function(){return this.$store.state.currentTab}}},h=p,m=n("87e0"),v=n("2877");function g(t){this["$style"]=m["default"].locals||m["default"]}var b=Object(v["a"])(h,r,a,!1,g,null,null);e["default"]=b.exports},dc8c:function(t,e,n){t.exports={container:"header_container_3xbMC",tab:"header_tab_cKG2y",active:"header_active_1Uw4l",locked:"header_locked_Hxd5i"}},dd69:function(t,e,n){t.exports={container:"index_container_36v57",mainContainer:"index_mainContainer_1yF4W",hasResult:"index_hasResult_2fosU",sidebarContainer:"index_sidebarContainer_2Ep6C",messagesContainer:"index_messagesContainer_3aDQz",message:"index_message_kAaSv",systemMessage:"index_systemMessage_3qu7c",highlight:"index_highlight_2H8Ox",time:"index_time_2Hr3O",user:"index_user_2bHb3",text:"index_text_3X4vz",emote:"index_emote_1wvs-",searchContainer:"index_searchContainer_3pw7h",confFoundContainer:"index_confFoundContainer_1XhST",input:"index_input_uZqbW",buttonsWrapper:"index_buttonsWrapper_3PCgP"}},de27:function(t,e,n){"use strict";n.r(e);var r=function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("div",e._g(e._b({ref:"root",class:e.$style.container},"div",e.$attrs,!1),e.$listeners),[r("div",{ref:"caption",class:[e.$style.caption,(t={},t[e.$style.hasCloseButton]=e.canBeClosed,t)]},[r("span",{domProps:{textContent:e._s(e.caption)}}),e.canBeClosed?r("span",{class:e.$style.closeBtn,domProps:{textContent:e._s("×")},on:{click:function(t){return e.$emit("onClose")}}}):e._e()]),r("div",{ref:"content",class:[e.$style.content,e.innerClass]},[e._t("default")],2)])},a=[],s={props:{innerClass:{type:[Object,Array,String],default:null},caption:{type:String,default:null},canBeClosed:{type:Boolean,default:!1}}},i=s,o=n("62fb"),c=n("2877");function u(t){this["$style"]=o["default"].locals||o["default"]}var l=Object(c["a"])(i,r,a,!1,u,null,null);e["default"]=l.exports},e098:function(t,e,n){"use strict";var r=n("2b41"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},e24a:function(t,e,n){"use strict";var r=n("8987"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},f09b:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("gButton",{attrs:{caption:t.buttonCaption},on:{click:t.copyFromTarget}})},a=[],s={props:{target:{type:Function,required:!0}},components:{gButton:function(){return Promise.resolve().then(n.bind(null,"32d9"))}},data:function(){return{buttonCaption:""}},mounted:function(){this.setCopyButtonText("copy")},methods:{setCopyButtonText:function(t){var e;switch(t){case"copy":e="Копировать";break;case"copied":e="Скопировано!";break;case"error":e="Не удалось скопировать";break}this.buttonCaption=e},copyFromTarget:function(){var t=this,e=this.target();e._isVue&&(e=e.$el);var n=e.disabled;n&&(e.disabled=!1),e.focus(),e.select();var r=document.execCommand("copy");window.getSelection&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges()),n&&(e.disabled=!0),r?(this.setCopyButtonText("copied"),setTimeout((function(){t.setCopyButtonText("copy")}),750)):this.setCopyButtonText("error")}}},i=s,o=n("2877"),c=Object(o["a"])(i,r,a,!1,null,null,null);e["default"]=c.exports},f613:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},t._l(t.tabs,(function(e,r){var a;return n("button",{key:r,class:[t.$style.tab,(a={},a[t.$style.active]=t.tab===e.tab,a[t.$style.locked]=!t.$store.state.isAuthenticated&&"auth"!==e.tab,a)],domProps:{textContent:t._s(e.name)},on:{click:function(n){return t.selectTab(e.tab)}}})})),0)},a=[],s={data:function(){return{tabs:[{tab:"auth",name:"Авторизация"},{tab:"subs",name:"Подписчики"},{tab:"rewards",name:"Награды"},{tab:"chat",name:"Чат"},{tab:"randomizer",name:"Рандомайзер"}]}},computed:{tab:function(){return this.$store.state.currentTab}},methods:{selectTab:function(t){this.$store.dispatch("selectTab",t)}}},i=s,o=n("a5ae"),c=n("2877");function u(t){this["$style"]=o["default"].locals||o["default"]}var l=Object(c["a"])(i,r,a,!1,u,null,null);e["default"]=l.exports},f663:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{class:t.$style.container},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.value)?t._i(t.value,null)>-1:t.value},on:{click:function(e){return t.updateValue(t.$refs.checkbox.checked)},change:function(e){var n=t.value,r=e.target,a=!!r.checked;if(Array.isArray(n)){var s=null,i=t._i(n,s);r.checked?i<0&&(t.value=n.concat([s])):i>-1&&(t.value=n.slice(0,i).concat(n.slice(i+1)))}else t.value=a}}}),t._v(" Анимированный фон ")])},a=[],s=n("a79e"),i={props:{value:{type:Boolean,retuired:!0}},mounted:function(){var t="boolean"!==typeof s["a"].isBackgroundAnimated||s["a"].isBackgroundAnimated;this.updateValue(t)},methods:{updateValue:function(t){var e="undefined"===typeof t?this.$refs.checkbox.checked:t;s["a"].isBackgroundAnimated=e,this.$emit("input",e)}}},o=i,c=n("2779"),u=n("2877");function l(t){this["$style"]=c["default"].locals||c["default"]}var d=Object(u["a"])(o,r,a,!1,l,null,null);e["default"]=d.exports},f913:function(t,e,n){"use strict";var r=n("955a"),a=n.n(r);n.d(e,"default",(function(){return a.a}))}});