(function(t){function e(e){for(var r,o,s=e[0],u=e[1],c=e[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,s=1;s<n.length;s++){var u=n[s];0!==a[u]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},i=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/ChelovekGleb-ContestHelpers/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"057f":function(t,e,n){t.exports={container:"content_container_2XZVx",component:"content_component_1QkIJ"}},2378:function(t,e,n){t.exports={container:"animatedBackgroundOption_container_j2KQV",checkbox:"animatedBackgroundOption_checkbox_21o25"}},2779:function(t,e,n){"use strict";var r=n("2378"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},"2b41":function(t,e,n){t.exports={container:"index_container_JqJLS",resultContainer:"index_resultContainer_1wpxd",blackListContainer:"index_blackListContainer_QNby9",controlContainer:"index_controlContainer_10aQP",buttons:"index_buttons_jqLSR",filters:"index_filters_O5lwz",textarea:"index_textarea_2GJUi"}},"31cd":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},[n("div",{class:t.$style.stateContainer},[n("div",{domProps:{textContent:t._s("Логин:")}}),t.login&&"ok"===t.authState?n("div",{class:t.$style.login,domProps:{textContent:t._s(t.login)}}):n("div",{class:[t.$style.stateIcon,t.$style[t.authState]]}),t.errorMsg?[n("div",{domProps:{textContent:t._s("Ошибка:")}}),n("div",{domProps:{textContent:t._s(t.errorMsg)}})]:t._e()],2),n("div",{class:t.$style.buttonsContainer},[t.$store.state.isAuthenticated?n("gButton",{attrs:{caption:"Отозвать токен"},on:{click:t.revokeToken}}):n("gButton",{attrs:{caption:"Авторизоваться"},on:{click:t.doAuth}})],1)])},a=[],i=(n("7f7f"),n("96cf"),n("3b8d")),o=n("a79e"),s={components:{gButton:function(){return Promise.resolve().then(n.bind(null,"32d9"))}},data:function(){return{authState:"noAuth",login:"",errorMsg:"",twitch:null}},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getTwitchController");case 2:if(e=t.sent,this.twitch=e,e.user.token){t.next=7;break}return this.authState="noAuth",t.abrupt("return");case 7:return this.authState="waiting",t.next=10,e.checkToken();case 10:e.user.ok?(this.authState="ok",this.login=e.user.name,this.$store.state.isAuthenticated=!0):(this.authState="error",this.errorMsg=e.user.errorMsg,this.$store.state.isAuthenticated=!1,delete o["a"].token);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{doAuth:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.twitch.auth({scope:["channel:read:redemptions","channel:read:subscriptions","channel:manage:redemptions"]});case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),revokeToken:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.twitch.revokeToken(),this.authState="noAuth",this.login="",this.$store.state.isAuthenticated=!1,delete o["a"].token;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},u=s,c=n("b3f4"),l=n("2877");function d(t){this["$style"]=c["default"].locals||c["default"]}var f=Object(l["a"])(u,r,a,!1,d,null,null);e["default"]=f.exports},"32d9":function(t,e,n){"use strict";n.r(e);var r=function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("button",e._g(e._b({class:[e.$style.container,(t={},t[e.$style.nowrap]=e.nowrap,t[e.$style.active]=e.active,t)]},"button",e.$attrs,!1),e.$listeners),[e._v(" "+e._s(e.caption)+" ")])},a=[],i={props:{caption:{type:String,default:null},nowrap:{type:Boolean,default:null},active:{type:Boolean,default:null}}},o=i,s=n("3c21"),u=n("2877");function c(t){this["$style"]=s["default"].locals||s["default"]}var l=Object(u["a"])(o,r,a,!1,c,null,null);e["default"]=l.exports},3307:function(t,e,n){t.exports={container:"gButton_container_38-OD",active:"gButton_active_3VvNt",nowrap:"gButton_nowrap_3oxt5"}},3612:function(t,e,n){t.exports={container:"index_container_1ctnu",stateContainer:"index_stateContainer_Kdhrh",login:"index_login_2dweu",buttonsContainer:"index_buttonsContainer_1mwlu",stateIcon:"index_stateIcon_AkqWm",noAuth:"index_noAuth_3y-tk",waiting:"index_waiting_26PqX",error:"index_error_3o6D0"}},"3c21":function(t,e,n){"use strict";var r=n("3307"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},"3e54":function(t,e,n){var r={"./auth/index.vue":"31cd","./randomizer/index.vue":"4ab5","./rewards/index.vue":"8605","./subs/index.vue":"5085"};function a(t){return Promise.resolve().then((function(){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}var a=r[t];return n(a)}))}a.keys=function(){return Object.keys(r)},a.id="3e54",t.exports=a},"4ab5":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},[n("iframe",{class:t.$style.iframe,attrs:{src:t.url}})])},a=[],i={data:function(){return{url:"https://randomus.ru/list"}}},o=i,s=n("b6b3"),u=n("2877");function c(t){this["$style"]=s["default"].locals||s["default"]}var l=Object(u["a"])(o,r,a,!1,c,null,null);e["default"]=l.exports},5085:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},[n("gContainer",{class:t.$style.resultContainer,attrs:{caption:"Результат"}},[n("gTextarea",{ref:"result",class:t.$style.textarea,attrs:{placeholder:"[ пусто ]",disabled:""},model:{value:t.input.result,callback:function(e){t.$set(t.input,"result",e)},expression:"input.result"}})],1),n("gContainer",{class:t.$style.blackListContainer,attrs:{caption:"Чёрный список"}},[n("gTextarea",{class:t.$style.textarea,attrs:{placeholder:"Список имён, которые будут исключены из результата"},on:{input:t.onBlacklistEdit},model:{value:t.input.blacklist,callback:function(e){t.$set(t.input,"blacklist",e)},expression:"input.blacklist"}})],1),n("div",{class:t.$style.controlContainer},[n("div",{class:t.$style.buttons},[n("gButton",{class:t.$style.refreshSubsBtn,attrs:{caption:"Обновить"},on:{click:t.getSubs}}),n("CopyButton",{class:t.$style.copyBtn,attrs:{target:function(){return t.$refs.result}}})],1),n("div",{class:t.$style.filters},[n("gButton",{attrs:{caption:t.conf.tier1?"[×] Tier 1":"[ ] Tier 1",nowrap:""},on:{click:function(e){return t.toggleConf("tier1")}}}),n("gButton",{attrs:{caption:t.conf.tier2?"[×] Tier 2":"[ ] Tier 2",nowrap:""},on:{click:function(e){return t.toggleConf("tier2")}}}),n("gButton",{attrs:{caption:t.conf.tier3?"[×] Tier 3":"[ ] Tier 3",nowrap:""},on:{click:function(e){return t.toggleConf("tier3")}}})],1)])],1)},a=[],i=(n("6762"),n("2fdb"),n("d25f"),n("6d67"),n("28a5"),n("7f7f"),n("96cf"),n("3b8d")),o=n("a79e"),s={components:{CopyButton:function(){return Promise.resolve().then(n.bind(null,"f09b"))},gButton:function(){return Promise.resolve().then(n.bind(null,"32d9"))},gContainer:function(){return Promise.resolve().then(n.bind(null,"de27"))},gTextarea:function(){return Promise.resolve().then(n.bind(null,"b8aa"))}},data:function(){return{input:{blacklist:"",result:""},conf:{tier1:!0,tier2:!0,tier3:!0},resultRaw:null,twitch:null}},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getTwitchController");case 2:return e=t.sent,this.twitch=e,n=null!==o["a"].blacklist,this.input.blacklist=n?o["a"].blacklist:e.user.name,t.next=8,this.getSubs();case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getSubs:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.input.result="( Получаю список подписчиков... )",t.next=4,this.twitch.api("subscriptions",{query:{first:100,broadcaster_id:this.twitch.user.id}});case 4:if(e=t.sent,e.ok){t.next=9;break}return this.input.result="Что-то пошло не так при обращении к API:\n\n".concat(e.err),this.$set(this,"resultRaw",{}),t.abrupt("return");case 9:this.$set(this,"resultRaw",e.data),this.processResult(),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),this.input.result="Что-то пошло не так при обработке запроса:\n\n".concat(t.t0.message);case 16:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(){return t.apply(this,arguments)}return e}(),toggleConf:function(t){this.conf[t]=!this.conf[t],this.processResult()},onBlacklistEdit:function(t){o["a"].blacklist=t,this.processResult()},processResult:function(){var t=this,e=this.input.blacklist.split("\n"),n=this.resultRaw.filter((function(n){var r="1000"===n.tier,a="2000"===n.tier,i="3000"===n.tier,o=e.includes(n.user_name),s=!0;return r&&(s=s&&t.conf.tier1),a&&(s=s&&t.conf.tier2),i&&(s=s&&t.conf.tier3),o&&(s=!1),s})).map((function(t){return t.user_name})).join("\n");this.input.result=n}}},u=s,c=n("f913"),l=n("2877");function d(t){this["$style"]=c["default"].locals||c["default"]}var f=Object(l["a"])(u,r,a,!1,d,null,null);e["default"]=f.exports},"56d7":function(t,e,n){"use strict";n.r(e);n("96cf");var r=n("3b8d"),a=(n("cadf"),n("551c"),n("f751"),n("097d"),n("2b0e")),i=function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("div",{class:(t={},t[e.$style.animatedBackground]=e.isBackgroundAnimated,t),attrs:{id:e.$style.app}},[r("Header"),r("Content"),e.showFooter?r("Footer"):e._e()],1)},o=[],s={components:{Header:function(){return Promise.resolve().then(n.bind(null,"f613"))},Content:function(){return Promise.resolve().then(n.bind(null,"d903"))},Footer:function(){return Promise.resolve().then(n.bind(null,"d4c6"))}},computed:{isBackgroundAnimated:function(){return this.$store.state.isBackgroundAnimated},showFooter:function(){return"auth"===this.$store.state.currentTab}},watch:{isBackgroundAnimated:{immediate:!0,handler:function(t){var e=this.$style.animatedBackground;t?document.body.classList.add(e):document.body.classList.remove(e)}}}},u=s,c=n("e24a"),l=n("2877");function d(t){this["$style"]=c["default"].locals||c["default"]}var f=Object(l["a"])(u,i,o,!1,d,null,null),p=f.exports,h=n("768b"),v=(n("ac4d"),n("8a81"),n("28a5"),n("ac6a"),n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("456d"),n("6b54"),n("87b3"),n("75fc")),b=n("bd86"),m=n("d225"),g=n("b0b4");function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(n,!0).forEach((function(e){Object(b["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t){return new Promise((function(e){return setTimeout(e,t)}))}var x=function(){function t(e){var n=e.clientId,r=e.token;Object(m["a"])(this,t),this.clientId=n,this.user={ok:!1,id:null,name:null,token:r,expiresIn:null,errorMsg:null}}return Object(g["a"])(t,[{key:"api",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,s,u,c,l,d=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=d.length>1&&void 0!==d[1]?d[1]:{},r=!1,a=null,i={ok:!1,data:[]},console.log("[API] [%s]\n===> %o",e,n);case 5:return o={},a&&(o.after=a),n.query&&(o=y({},o,{},n.query)),s=y({},n,{query:o}),n.body&&(s.body=n.body),console.log("[API] [%s]\n--\x3e %o",e,s),t.next=13,this._api(e,s);case 13:return u=t.sent,t.next=16,k(250);case 16:console.log("[API] [%s]\n<-- %o",e,u),u.ok?(l=!(u.res.pagination&&u.res.pagination.cursor),(c=i.data).push.apply(c,Object(v["a"])(u.res.data)),l?(r=!0,i.ok=!0):a=u.res.pagination.cursor):(r=!0,i=u);case 18:if(!r){t.next=5;break}case 19:return console.log("[API] [%s]\n<=== %o",e,i),t.abrupt("return",i);case 21:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"_api",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,i,o,s,u,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},r={method:n.method||"GET",headers:{authorization:"Bearer ".concat(this.user.token),"client-id":this.clientId}},n.method||"GET",a="https://api.twitch.tv/helix/".concat(e,"/"),n.query&&(o=new URLSearchParams(n.query).toString(),a+="?".concat(o)),n.headers&&(r.headers=y({},r.headers,{},n.headers)),n.body&&(r.headers["Content-Type"]="application/json",r.body=JSON.stringify(n.body)),t.prev=7,t.next=10,fetch(a,r);case 10:return s=t.sent,t.next=13,s.json();case 13:if(u=t.sent,s.ok){t.next=16;break}throw new Error(JSON.stringify(u));case 16:i={ok:!0,res:u},t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](7),i={ok:!1,err:t.t0.message};case 22:return t.abrupt("return",i);case 23:case"end":return t.stop()}}),t,this,[[7,19]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"checkToken",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.user.token,t.prev=1,t.next=4,fetch("https://id.twitch.tv/oauth2/validate",{headers:{authorization:"Bearer ".concat(e)}});case 4:return r=t.sent,t.next=7,r.json();case 7:if(n=t.sent,r.ok){t.next=10;break}throw new Error(n.message);case 10:this.user={ok:!0,id:n.user_id,name:n.login,token:e,expiresIn:n.expires_in,errorMsg:null},t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](1),this.user={ok:!1,id:null,name:null,token:null,expiresIn:null,errorMsg:t.t0.message};case 16:return console.log("[API] [validate]\n %o",{raw:n,parsed:this.user}),t.abrupt("return",this.user.ok);case 18:case"end":return t.stop()}}),t,this,[[1,13]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"auth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scope,n=t.inNewWindow;if(!e)throw new Error('"scope" is missing!');var r=new URLSearchParams({client_id:this.clientId,response_type:"token",redirect_uri:location.origin+location.pathname,scope:e.join(" ")}).toString(),a="https://id.twitch.tv/oauth2/authorize?".concat(r);n?window.open(a,"_blank"):location.href=a}},{key:"revokeToken",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new URLSearchParams({client_id:this.clientId,token:this.user.token}).toString(),t.next=3,fetch("https://id.twitch.tv/oauth2/revoke?".concat(e),{method:"POST"});case 3:if(n=t.sent,console.log("resp",n),n.ok){t.next=8;break}return alert("Не удалось отозвать токен"),t.abrupt("return",!1);case 8:return this.user={ok:!1,id:null,name:null,token:null,expiresIn:null,errorMsg:null},t.abrupt("return",!0);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),_=n("a79e");function $(t){var e={},n=!0,r=!1,a=void 0;try{for(var i,o=t.slice(1).split("&")[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value,u=s.split("="),c=Object(h["a"])(u,2),l=c[0],d=c[1];e[l]=decodeURIComponent(d)}}catch(f){r=!0,a=f}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return e}function O(){return C.apply(this,arguments)}function C(){return C=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},n="75rb88i37m9kha2q2toaha4g82zn8h",r=e.access_token||_["a"].token,a=new x({clientId:n,token:r}),e.access_token&&(_["a"].token=r),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)}))),C.apply(this,arguments)}var R=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=location.hash,n=e?$(e):{},t.next=4,O(n);case 4:return r=t.sent,t.abrupt("return",{hash:n,twitchController:r});case 6:case"end":return t.stop()}}),t)}))),j=n("2f62"),B=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.initialData,a["a"].use(j["a"]),r=n.twitchController,i=new j["a"].Store({state:{isAuthenticated:!1,isBackgroundAnimated:!0,currentTab:"auth"},actions:{getTwitchController:function(t){return r},selectTab:function(t,e){t.state.currentTab=e}}}),t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();a["a"].config.productionTip=!1;var P=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R();case 2:return e=t.sent,t.next=5,B({initialData:e});case 5:n=t.sent,new a["a"]({store:n,render:function(t){return t(p)}}).$mount("#app");case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();P().catch((function(t){return console.error("Failed to init app:",t)}))},"62fb":function(t,e,n){"use strict";var r=n("a0be"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},8605:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},[n("gContainer",{class:t.$style.resultContainer,attrs:{caption:"Результат"}},[n("gTextarea",{ref:"result",class:t.$style.textarea,attrs:{placeholder:"[ пусто ]",disabled:""},model:{value:t.input.result,callback:function(e){t.$set(t.input,"result",e)},expression:"input.result"}})],1),n("div",{class:t.$style.controlContainer},[n("div",{class:t.$style.buttons},[n("gButton",{attrs:{caption:"Обновить"},on:{click:t.getAll}}),n("CopyButton",{class:t.$style.copyBtn,attrs:{target:function(){return t.$refs.result}}})],1),n("div",{class:t.$style.filters},[n("gButton",{attrs:{caption:t.filters.onlyUniqueNames?"[×] Без повторений":"[ ] Без повторений",title:"Исключить повторяющиеся имена",nowrap:""},on:{click:function(e){return t.toggleFilter("onlyUniqueNames")}}}),t.hasRewards?t._l(t.rewards,(function(e,r){return n("gButton",{key:r,attrs:{caption:e.enabled?"[×] "+e.title:"[ ] "+e.title,title:e.prompt,nowrap:""},on:{click:function(n){return t.toggleReward(e)}}})})):t._e(),n("gButton",{class:t.$style.addRewardBtn,attrs:{caption:"Создать награду",title:"Создать новую награду, к которой приложение будет иметь доступ",nowrap:""},on:{click:t.createReward}})],2)])],1)},a=[],i=(n("57e7"),n("6762"),n("2fdb"),n("d25f"),n("75fc")),o=(n("ac4d"),n("8a81"),n("ac6a"),n("6d67"),n("96cf"),n("3b8d")),s={components:{CopyButton:function(){return Promise.resolve().then(n.bind(null,"f09b"))},gButton:function(){return Promise.resolve().then(n.bind(null,"32d9"))},gContainer:function(){return Promise.resolve().then(n.bind(null,"de27"))},gTextarea:function(){return Promise.resolve().then(n.bind(null,"b8aa"))}},data:function(){return{input:{result:""},filters:{onlyUniqueNames:!1},rewards:[],rewardRedemptions:[],twitch:null}},computed:{hasRewards:function(){return!!this.rewards.length}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getTwitchController");case 2:return e=t.sent,this.twitch=e,t.next=6,this.getAll();case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getAll:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRewards();case 2:return t.next=4,this.getRewardRedemptions();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createReward:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=prompt("Из-за ограничений Twitch API приложение может иметь доступ только к собственным наградам.\n\nСозданные награды можно активировать, редактировать или удалить в панели управления канала.\n\nВведите название новой награды:"),e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.twitch.api("channel_points/custom_rewards",{method:"POST",query:{broadcaster_id:this.twitch.user.id},body:{title:e,prompt:"(создано через приложение инструментов для конкурса)",cost:100,is_enabled:!1}});case 5:if(n=t.sent,n.ok){t.next=9;break}return this.input.result="Что-то пошло не так при обращении к API:\n\n".concat(n.err),t.abrupt("return");case 9:return t.next=11,this.getRewards();case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getRewards:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e=this.input.result,this.input.result="( Получаю список наград... )",this.$set(this,"rewards",[]),t.next=6,this.twitch.api("channel_points/custom_rewards",{query:{broadcaster_id:this.twitch.user.id,only_manageable_rewards:!0}});case 6:if(n=t.sent,n.ok){t.next=10;break}return this.input.result="Что-то пошло не так при обращении к API:\n\n".concat(n.err),t.abrupt("return");case 10:r=n.data.map((function(t){return{id:t.id,title:t.title,prompt:t.prompt,enabled:t.is_enabled}})),this.$set(this,"rewards",r),e&&(this.input.result=e),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),this.input.result="Что-то пошло не так при обработке запроса:\n\n".concat(t.t0.message);case 18:case"end":return t.stop()}}),t,this,[[0,15]])})));function e(){return t.apply(this,arguments)}return e}(),getRewardRedemptions:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,o,s,u,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,this.input.result="( Получаю список запросов на награды... )",this.$set(this,"rewardRedemptions",[]),e=!0,n=!1,r=void 0,t.prev=6,a=this.rewards[Symbol.iterator]();case 8:if(e=(o=a.next()).done){t.next=21;break}return u=o.value,t.next=12,this.twitch.api("channel_points/custom_rewards/redemptions",{query:{first:50,broadcaster_id:this.twitch.user.id,reward_id:u.id,status:"UNFULFILLED"}});case 12:if(c=t.sent,c.ok){t.next=16;break}return this.input.result="Что-то пошло не так при обращении к API:\n\n".concat(c.err),t.abrupt("return");case 16:l=c.data.map((function(t){return{id:t.id,rewardId:t.reward.id,userName:t.user_name,userInput:t.user_input,status:t.status,date:new Date(t.redeemed_at)}})),(s=this.rewardRedemptions).push.apply(s,Object(i["a"])(l));case 18:e=!0,t.next=8;break;case 21:t.next=27;break;case 23:t.prev=23,t.t0=t["catch"](6),n=!0,r=t.t0;case 27:t.prev=27,t.prev=28,e||null==a.return||a.return();case 30:if(t.prev=30,!n){t.next=33;break}throw r;case 33:return t.finish(30);case 34:return t.finish(27);case 35:this.processResult(),t.next=41;break;case 38:t.prev=38,t.t1=t["catch"](0),this.input.result="Что-то пошло не так при обработке запроса:\n\n".concat(t.t1.message);case 41:case"end":return t.stop()}}),t,this,[[0,38],[6,23,27,35],[28,,30,34]])})));function e(){return t.apply(this,arguments)}return e}(),toggleFilter:function(t){this.filters[t]=!this.filters[t],this.processResult()},toggleReward:function(t){t.enabled=!t.enabled,this.processResult()},processResult:function(){var t=this.rewards.filter((function(t){return t.enabled})).map((function(t){return t.id})),e=this.rewardRedemptions;e=e.filter((function(e,n,r){var a=t.includes(e.rewardId),i=a;return i})).map((function(t){return t.userName})),this.filters.onlyUniqueNames&&(e=e.filter((function(t,e,n){return n.indexOf(t)===e}))),this.input.result=e.join("\n")}}},u=s,c=n("e098"),l=n("2877");function d(t){this["$style"]=c["default"].locals||c["default"]}var f=Object(l["a"])(u,r,a,!1,d,null,null);e["default"]=f.exports},"87e0":function(t,e,n){"use strict";var r=n("057f"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},8987:function(t,e,n){t.exports={animatedBackground:"App_animatedBackground_Bi1nn",background:"App_background_1pY6v",app:"App_app_3cl75"}},9505:function(t,e,n){t.exports={container:"index_container_2SQMD",iframe:"index_iframe_3Zge-"}},"955a":function(t,e,n){t.exports={container:"index_container_3r6t6",resultContainer:"index_resultContainer_30vPi",blackListContainer:"index_blackListContainer_3eMwc",controlContainer:"index_controlContainer_33d79",buttons:"index_buttons_2H3K_",filters:"index_filters_22i3g",textarea:"index_textarea_19J-h"}},a0be:function(t,e,n){t.exports={container:"gContainer_container_3h8Ox",caption:"gContainer_caption_dsJxw",content:"gContainer_content_1lTim"}},a11e:function(t,e,n){var r={"./auth/index.vue":"31cd","./randomizer/index.vue":"4ab5","./rewards/index.vue":"8605","./subs/index.vue":"5085"};function a(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=i,t.exports=a,a.id="a11e"},a398:function(t,e,n){"use strict";var r=n("b332"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},a5ae:function(t,e,n){"use strict";var r=n("dc8c"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},a79e:function(t,e,n){"use strict";var r=new Proxy({},{get:function(t,e){var n=JSON.parse(localStorage.getItem(e));return n},set:function(t,e,n){return localStorage.setItem(e,JSON.stringify(n)),!0},deleteProperty:function(t,e){return localStorage.removeItem(e),!0}});e["a"]=r},a9b0:function(t,e,n){t.exports={container:"gTextarea_container_1dWIn"}},b332:function(t,e,n){t.exports={container:"footer_container_8FSkW",aboutLink:"footer_aboutLink_2IyZ9"}},b3f4:function(t,e,n){"use strict";var r=n("3612"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},b6b3:function(t,e,n){"use strict";var r=n("9505"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},b8aa:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],class:t.$style.container,attrs:{spellcheck:"false"},domProps:{value:t.value},on:{input:[function(e){e.target.composing||(t.value=e.target.value)},function(e){return t.$emit("input",t.value)}]}})},a=[],i={props:{value:{type:String,default:null}}},o=i,s=n("d021"),u=n("2877");function c(t){this["$style"]=s["default"].locals||s["default"]}var l=Object(u["a"])(o,r,a,!1,c,null,null);e["default"]=l.exports},d021:function(t,e,n){"use strict";var r=n("a9b0"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},d4c6:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},[n("AnimatedBackgroundOption",{model:{value:t.isBackgroundAnimated,callback:function(e){t.isBackgroundAnimated=e},expression:"isBackgroundAnimated"}}),n("div"),n("div",[t._v(" Специально для "),n("a",{class:t.$style.aboutLink,attrs:{target:"_blank",href:"https://www.twitch.tv/chelovekgleb"},domProps:{textContent:t._s("@chelovekgleb")}})])],1)},a=[],i={components:{AnimatedBackgroundOption:function(){return Promise.resolve().then(n.bind(null,"f663"))}},computed:{isBackgroundAnimated:{get:function(){return this.$store.state.isBackgroundAnimated},set:function(t){this.$store.state.isBackgroundAnimated=t}}}},o=i,s=n("a398"),u=n("2877");function c(t){this["$style"]=s["default"].locals||s["default"]}var l=Object(u["a"])(o,r,a,!1,c,null,null);e["default"]=l.exports},d903:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},[n("KeepAlive",[n(t.currentTab,{tag:"Component",class:t.$style.component})],1)],1)},a=[],i=(n("a481"),n("ac4d"),n("8a81"),n("ac6a"),n("a11e")),o={},s=!0,u=!1,c=void 0;try{for(var l,d=function(){var t=l.value,e=t.replace("./","").replace("/index.vue","");o[e]=function(){return n("3e54")("./".concat(e,"/index.vue"))}},f=i.keys()[Symbol.iterator]();!(s=(l=f.next()).done);s=!0)d()}catch(w){u=!0,c=w}finally{try{s||null==f.return||f.return()}finally{if(u)throw c}}var p={components:o,computed:{currentTab:function(){return this.$store.state.currentTab}}},h=p,v=n("87e0"),b=n("2877");function m(t){this["$style"]=v["default"].locals||v["default"]}var g=Object(b["a"])(h,r,a,!1,m,null,null);e["default"]=g.exports},dc8c:function(t,e,n){t.exports={container:"header_container_3xbMC",tab:"header_tab_cKG2y",active:"header_active_1Uw4l",locked:"header_locked_Hxd5i"}},de27:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._g(t._b({class:t.$style.container},"div",t.$attrs,!1),t.$listeners),[n("div",{class:t.$style.caption,domProps:{textContent:t._s(t.caption)}}),n("div",{class:[t.$style.content,t.innerClass]},[t._t("default")],2)])},a=[],i={props:{innerClass:{type:[Object,Array,String],default:null},caption:{type:String,default:null}}},o=i,s=n("62fb"),u=n("2877");function c(t){this["$style"]=s["default"].locals||s["default"]}var l=Object(u["a"])(o,r,a,!1,c,null,null);e["default"]=l.exports},e098:function(t,e,n){"use strict";var r=n("2b41"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},e24a:function(t,e,n){"use strict";var r=n("8987"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},f09b:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("gButton",{attrs:{caption:t.buttonCaption},on:{click:t.copyFromTarget}})},a=[],i={props:{target:{type:Function,required:!0}},components:{gButton:function(){return Promise.resolve().then(n.bind(null,"32d9"))}},data:function(){return{buttonCaption:""}},mounted:function(){this.setCopyButtonText("copy")},methods:{setCopyButtonText:function(t){var e;switch(t){case"copy":e="Копировать";break;case"copied":e="Скопировано!";break;case"error":e="Не удалось скопировать";break}this.buttonCaption=e},copyFromTarget:function(){var t=this,e=this.target();e._isVue&&(e=e.$el);var n=e.disabled;n&&(e.disabled=!1),e.focus(),e.select();var r=document.execCommand("copy");window.getSelection&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges()),n&&(e.disabled=!0),r?(this.setCopyButtonText("copied"),setTimeout((function(){t.setCopyButtonText("copy")}),750)):this.setCopyButtonText("error")}}},o=i,s=n("2877"),u=Object(s["a"])(o,r,a,!1,null,null,null);e["default"]=u.exports},f613:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},t._l(t.tabs,(function(e,r){var a;return n("button",{key:r,class:[t.$style.tab,(a={},a[t.$style.active]=t.tab===e.tab,a[t.$style.locked]=!t.$store.state.isAuthenticated&&"auth"!==e.tab,a)],domProps:{textContent:t._s(e.name)},on:{click:function(n){return t.selectTab(e.tab)}}})})),0)},a=[],i={data:function(){return{tabs:[{tab:"auth",name:"Авторизация"},{tab:"subs",name:"Подписчики"},{tab:"rewards",name:"Награды"},{tab:"randomizer",name:"Рандомайзер"}]}},computed:{tab:function(){return this.$store.state.currentTab}},methods:{selectTab:function(t){this.$store.dispatch("selectTab",t)}}},o=i,s=n("a5ae"),u=n("2877");function c(t){this["$style"]=s["default"].locals||s["default"]}var l=Object(u["a"])(o,r,a,!1,c,null,null);e["default"]=l.exports},f663:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{class:t.$style.container},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.value)?t._i(t.value,null)>-1:t.value},on:{click:function(e){return t.updateValue(t.$refs.checkbox.checked)},change:function(e){var n=t.value,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,o=t._i(n,i);r.checked?o<0&&(t.value=n.concat([i])):o>-1&&(t.value=n.slice(0,o).concat(n.slice(o+1)))}else t.value=a}}}),t._v(" Анимированный фон ")])},a=[],i=n("a79e"),o={props:{value:{type:Boolean,retuired:!0}},mounted:function(){var t="boolean"!==typeof i["a"].isBackgroundAnimated||i["a"].isBackgroundAnimated;this.updateValue(t)},methods:{updateValue:function(t){var e="undefined"===typeof t?this.$refs.checkbox.checked:t;i["a"].isBackgroundAnimated=e,this.$emit("input",e)}}},s=o,u=n("2779"),c=n("2877");function l(t){this["$style"]=u["default"].locals||u["default"]}var d=Object(c["a"])(s,r,a,!1,l,null,null);e["default"]=d.exports},f913:function(t,e,n){"use strict";var r=n("955a"),a=n.n(r);n.d(e,"default",(function(){return a.a}))}});